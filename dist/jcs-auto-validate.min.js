!function(e,t){"use strict";function r(){var e={},r=!0,o=!0,a=!1,n=!0,i=function(e){var t;return e&&0!==e.length?(t=e.toLowerCase(),e=!("f"===t||"0"===t||"false"===t)):e=!1,e},l=function(e,t){var r;return void 0!==e&&(r=e.attr(t)||e.attr("data-"+t)),r},s=function(e,t){var r;return void 0!==e&&(r=void 0!==e.attr(t)||void 0!==e.attr("data-"+t)),r},d=function(e,t){return i(l(e,t))},u=function(e){return r&&!d(e,"disable-valid-styling")},c=function(e){return!d(e,"disable-auto-validate")},f=function(e){return o&&!d(e,"disable-invalid-styling")};this.enable=function(e){n=e},this.isEnabled=function(){return n},this.setDefaultElementModifier=function(t){if(void 0===e[t])throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t},this.registerDomModifier=function(t,r){e[t]=r},this.setErrorMessageResolver=function(e){this.errorMessageResolver=e},this.getErrorMessage=function(e,r){var o;if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return s(r,"disable-validation-message")?(o=t.injector(["ng"]).get("$q").defer(),o.resolve(""),o.promise):this.errorMessageResolver(e,r)},this.setValidElementStyling=function(e){r=e},this.setInvalidElementStyling=function(e){o=e},this.setFirstInvalidElementScrollingOnSubmit=function(e){a=e},this.firstInvalidElementScrollingOnSubmitEnabled=function(){return a},this.getDomModifier=function(t){var r=(void 0!==t?t.attr("element-modifier"):this.defaultElementModifier)||(void 0!==t?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===r)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return e[r]},this.makeValid=function(e){c(e)&&(u(e)?this.getDomModifier(e).makeValid(e):this.makeDefault(e))},this.makeInvalid=function(e,t){c(e)&&(f(e)?this.getDomModifier(e).makeInvalid(e,t):this.makeDefault(e))},this.makeDefault=function(e){if(c(e)){var t=this.getDomModifier(e);t.makeDefault&&t.makeDefault(e)}},this.waitForAsyncValidators=function(e){if(c(e)){var t=this.getDomModifier(e);t.waitForAsyncValidators&&t.waitForAsyncValidators(e)}},this.defaultFormValidationOptions={forceValidation:!1,disabled:!1,validateNonVisibleControls:!1,removeExternalValidationErrorsOnSubmit:!0,validateOnFormSubmit:!1,waitForAsyncValidators:!0},this.$get=[function(){return this}]}function o(e){var r=["<style>.glyphicon-spin-jcs {-webkit-animation: spin 1000ms infinite linear;animation: spin 1000ms infinite linear;}@-webkit-keyframes spin {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(359deg);transform: rotate(359deg);}}@keyframes spin {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(359deg);transform: rotate(359deg);}}</style>"].join("");t.element(document.body).append(t.element(r));var o=function(e){t.forEach(e.find("span"),function(e){e=t.element(e),(e.hasClass("error-msg")||e.hasClass("form-control-feedback")||e.hasClass("control-feedback"))&&e.remove()}),e.removeClass("has-success has-error has-feedback")},a=function(e,t){for(var r,o=e,a=0;10>=a;a+=1){if(void 0!==o&&o.hasClass(t)){r=o;break}void 0!==o&&(o=o.parent())}return r},n=function(e,r){for(var o,a=0;a<e.children.length&&(o=e.children[a],void 0===o||!t.element(o).hasClass(r))&&!(void 0!==o.children&&(o=n(o,r),o.length>0));a+=1);return t.element(o)},i=function(e){return a(e,"form-group")},l=function(e){return n(e,"input-group")},s=function(e,t){e[0].parentNode.insertBefore(t[0],e[0].nextSibling)},d=!1,u=function(e){d=e},c=function(r){var a=i(r),n;if(a){if(o(a),n=l(a[0]),a.addClass("has-success "+(n.length>0||d===!1?"":"has-feedback")),d){var u='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';n.length>0&&(u=u.replace("form-",""),u='<span class="input-group-addon control-feedback">'+u+"</span"),s(r,t.element(u))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},f=function(r,a){var n=i(r),u=t.element('<span class="help-block has-error error-msg">'+a+"</span>"),c;if(n){if(o(n),c=l(n[0]),n.addClass("has-error "+(c.length>0||d===!1?"":"has-feedback")),s(c.length>0?c:m(r),u),d){var f='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';c.length>0&&(f=f.replace("form-",""),f='<span class="input-group-addon control-feedback">'+f+"</span>"),s(m(r),t.element(f))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},m=function(e){var t=e,r=e[0].type?e[0].type.toLowerCase():"";return"checkbox"!==r&&"radio"!==r||"label"!==e.parent()[0].nodeName.toLowerCase()||(t=e.parent()),t},v=function(t){var r=i(t);r?o(r):e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},p=function(r){var a=i(r),n;if(a){if(o(a),n=l(a[0]),a.addClass("has-feedback "+(n.length>0||d===!1?"":"has-feedback")),d){var u='<span class="glyphicon glyphicon-repeat glyphicon-spin-jcs form-control-feedback"></span>';n.length>0&&(u=u.replace("form-",""),u='<span class="input-group-addon control-feedback">'+u+"</span>"),s(r,t.element(u))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")};return{makeValid:c,makeInvalid:f,makeDefault:v,waitForAsyncValidators:p,enableValidationStateIcons:u,key:"bs3"}}function a(e){var t=function(t,r,o){var a;return function(){var n=this,i=arguments,l=function(){a=null,o||t.apply(n,i)},s=o&&!a;e.cancel(a),a=e(l,r,!1),s&&t.apply(n,i)}};return{debounce:t}}function n(e,r){var o="default",a="js/angular-auto-validate/dist/lang",n,i=function(e){return n=r.get("{0}/jcs-auto-validate_{1}.json".format(a,e.toLowerCase()))},l=function(e){a=e},s=function(r,a){var l=e.defer();return a=a||i,o=r.toLowerCase(),void 0===t.autoValidate.errorMessages[o]?(n=a(r),n.then(function(e){n=void 0,t.autoValidate.errorMessages[o]=e.data,l.resolve(t.autoValidate.errorMessages[o])},function(e){t.autoValidate.errorMessages[o]={defaultMsg:"Loading culture failed!"},n=null,l.reject(e)})):l.resolve(t.autoValidate.errorMessages[o]),l.promise},d=function(r){var a=e.defer();return r=void 0===r?o:r.toLowerCase(),void 0!==n?n.then(function(){a.resolve(t.autoValidate.errorMessages[r])},function(e){a.reject(e)}):a.resolve(t.autoValidate.errorMessages[r]),a.promise},u=function(e,t){var r;return t&&(e+="-err-type",r=t.attr("ng-"+e),void 0===r&&(r=t.attr("data-ng-"+e)||t.attr(e)),r&&(r=r.replace(/[\W]/g,""))),r},c=function(r,a){var i=e.defer(),l,s=[],d,f;if(void 0!==n)n.then(function(){c(r,a).then(function(e){i.resolve(e)})});else{if(l=t.autoValidate.errorMessages[o][r],f=u(r,a),f&&(l=t.autoValidate.errorMessages[o][f]),void 0===l&&void 0!==f?l=t.autoValidate.errorMessages[o].defaultMsg.format(f):void 0===l&&(l=t.autoValidate.errorMessages[o].defaultMsg.format(r)),a&&a.attr)try{d=a.attr("ng-"+r),void 0===d&&(d=a.attr("data-ng-"+r)||a.attr(r)),s.push(d||""),l=l.format(s)}catch(m){}i.resolve(l)}return i.promise};return{setI18nFileRootPath:l,setCulture:s,getErrorMessages:d,resolve:c}}function i(){var e=function(e,r){t.forEach(e.find("small"),function(e){t.element(e).hasClass("form-error is-visible")&&t.element(e).remove()}),r.removeClass("alert callout")},r=function(e){for(var t=e,r=0;3>=r&&(void 0===t||!t.hasClass("columns")&&!t.hasClass("column"));r+=1)void 0!==t&&(t=t.parent());return t},o=function(t){var o=r(t);e(o&&o.length>0?o:t,t)},a=function(o,a){var n=r(o),i;e(n||o,o),o.addClass("alert callout"),n&&(i=t.element('<small class="form-error is-visible">'+a+"</small>"),n.append(i))},n=function(e){o(e)};return{makeValid:o,makeInvalid:a,makeDefault:n,key:"foundation6"}}function l(){var e=function(e){return e[0].offsetWidth>0&&e[0].offsetHeight>0};return{isElementVisible:e}}function s(e,r,o){var a=["input","textarea","select","form"],n=function(e){return r.isElementVisible(e)},i=function(r){var o=t.element(r).controller("form"),a;return a=void 0!==o&&null!==o?o.autoValidateFormOptions:e.defaultFormValidationOptions},l=function(e,t,r){var o=e&&e.length>0,i=o&&"#comment"===e[0].nodeName.toLowerCase(),l,s,d;return o&&i===!1&&(l=n(e)||t.validateNonVisibleControls,s=a.indexOf(e[0].nodeName.toLowerCase())>-1||e[0].hasAttribute("register-custom-form-control"),d=t.validateOnFormSubmit===!1||t.validateOnFormSubmit===!0&&r===!0),o&&!i&&l&&s&&d},s=function(r,o,a){var n=!0,s=a||i(o),d=r.$pristine===!1||s.forceValidation,u,c=function(e){var r=!0,o;return t.forEach(e,function(e,t){r&&e&&(r=!1,o=t)}),o};return s.disabled===!1&&(s.forceValidation||l(o,s,s.getFormController().$submitted)&&r&&d)&&(n=!r.$invalid,s.removeExternalValidationErrorsOnSubmit&&r.removeAllExternalValidation&&r.removeAllExternalValidation(),void 0!==r.$pending&&a.waitForAsyncValidators===!0?e.waitForAsyncValidators(o):n?e.makeValid(o):(u=c(r.$errors||r.$error),void 0===u?n=!0:e.getErrorMessage(u,o).then(function(t){e.makeInvalid(o,t)}))),n},d=function(t){e.makeDefault(t)},u=function(e){t.forEach(e[0].all||e[0].elements||e[0],function(e){var r,o=t.element(e);r=o.controller("ngModel"),void 0!==r&&("form"===o[0].nodeName.toLowerCase()?u(o):r.$setPristine())})},c=function(r){var a=!0,n=r?t.element(r).controller("form"):void 0,d=function(r,d,u){var f,m,v,p;if(r=t.element(r),f=r.controller("ngModel"),void 0!==f&&(d||l(r,u,n.$submitted)))if("form"===r[0].nodeName.toLowerCase())c(r);else{v=i(r),p=v.forceValidation,v.forceValidation=d;try{if(m=s(f,r,v),e.firstInvalidElementScrollingOnSubmitEnabled()&&!m&&a){var g=r.attr("id");g&&o(g)}a=a&&m}finally{v.forceValidation=p}}},u;return void 0===r||void 0!==n&&n.autoValidateFormOptions.disabled?void 0!==r:(u=t.copy(n.autoValidateFormOptions),u.forceValidation=!0,t.forEach(r[0].elements||r[0].all||r[0],function(e){d(e,!0,u)}),r[0].customHTMLFormControlsCollection&&t.forEach(r[0].customHTMLFormControlsCollection,function(e){d(e,!0,u)}),a)},f=function(t,r,o){r?e.getErrorMessage(r,t).then(function(r){e.makeInvalid(t,r)}):e.makeInvalid(t,o)};return{setElementValidationError:f,validateElement:s,validateForm:c,resetElement:d,resetForm:u}}function d(e,t){return void 0!==e&&null!==e||void 0===t?"false"!==e:t}function u(e,r,o){var a=e.autoValidateFormOptions=e.autoValidateFormOptions||t.copy(r.defaultFormValidationOptions);a.getFormController=function(){return e},a.waitForAsyncValidators=d(o.waitForAsyncValidators,a.waitForAsyncValidators),a.forceValidation=!1,a.disabled=!r.isEnabled()||d(o.disableDynamicValidation,a.disabled),a.validateNonVisibleControls=d(o.validateNonVisibleControls,a.validateNonVisibleControls),a.validateOnFormSubmit=d(o.validateOnFormSubmit,a.validateOnFormSubmit),a.removeExternalValidationErrorsOnSubmit=void 0===o.removeExternalValidationErrorsOnSubmit?a.removeExternalValidationErrorsOnSubmit:d(o.removeExternalValidationErrorsOnSubmit,a.removeExternalValidationErrorsOnSubmit),r.isEnabled()===!1&&"false"===o.disableDynamicValidation&&(a.disabled=!1)}function c(e){return{restrict:"E",link:function(t,r){function o(){e.resetForm(r),a.$setPristine&&a.$setPristine(),a.$setUntouched&&a.$setUntouched()}var a=r.controller("form");void 0!==a&&a.autoValidateFormOptions&&a.autoValidateFormOptions.disabled===!1&&(r.on("reset",o),t.$on("$destroy",function(){r.off("reset",o)}))}}}function f(){var e=function(e){for(var r=e,o=0;50>=o&&(void 0===r||"form"!==r.nodeName.toLowerCase());o+=1)void 0!==r&&(r=t.element(r).parent()[0]);return r};return{restrict:"A",link:function(t,r){var o=e(r.parent()[0]);o&&(o.customHTMLFormControlsCollection=o.customHTMLFormControlsCollection||[],o.customHTMLFormControlsCollection.push(r[0]))}}}function m(e,t,r){return e[0].compile=function(e,o){var a=t(o.ngSubmit),n="true"===o.ngSubmitForce;return function(e,t){function o(o){e.$apply(function(){void 0!==l&&null!==l&&l.autoValidateFormOptions&&l.autoValidateFormOptions.disabled===!0?a(e,{$event:o}):(void 0===l.$setSubmitted&&(l.$submitted=!0),(r.validateForm(t)||n===!0)&&a(e,{$event:o}))})}function i(){t[0].reset?t[0].reset():r.resetForm(t)}var l=t.controller("form"),s;l&&l.autoValidateFormOptions&&(l.autoValidateFormOptions.resetForm=i,void 0!==l.$name&&""!==l.$name&&(s=e.$on("form:"+l.$name+":reset",i))),t.on("submit",o),e.$on("$destroy",function(){t.off("submit",o),s&&s()})}},e}function v(e){e.decorator("ngSubmitDirective",m)}function p(e,t,r,o){e.setErrorMessageResolver(t.resolve),e.registerDomModifier(r.key,r),e.registerDomModifier(o.key,o),e.setDefaultElementModifier(r.key)}t.module("jcs-autoValidate",[]),t.module("jcs-autoValidate").provider("validator",r),o.$inject=["$log"],t.module("jcs-autoValidate").factory("bootstrap3ElementModifier",o),a.$inject=["$timeout"],t.module("jcs-autoValidate").factory("jcs-debounce",a),"format"in e.prototype||(e.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,r){return void 0!==typeof e[r]?e[r]:t})}),t.autoValidate=t.autoValidate||{errorMessages:{}},t.autoValidate.errorMessages["default"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://www.google.com"},n.$inject=["$q","$http"],t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",n),t.module("jcs-autoValidate").factory("foundation6ElementModifier",i),s.$inject=["validator","jcs-elementUtils","$anchorScroll"],t.module("jcs-autoValidate").factory("jcs-elementUtils",l),t.module("jcs-autoValidate").factory("validationManager",s),t.module("jcs-autoValidate").directive("form",["validator",function(e){return{restrict:"E",require:"form",priority:9999,compile:function(){return{pre:function(t,r,o,a){u(a,e,o)}}}}}]),t.module("jcs-autoValidate").directive("ngForm",["validator",function(e){return{restrict:"EA",require:"form",priority:9999,compile:function(){return{pre:function(t,r,o,a){u(a,e,o)}}}}}]),c.$inject=["validationManager"],t.module("jcs-autoValidate").directive("form",c),t.module("jcs-autoValidate").directive("registerCustomFormControl",f),m.$inject=["$delegate","$parse","validationManager"],v.$inject=["$provide"],t.module("jcs-autoValidate").config(v),t.module("jcs-autoValidate").config(["$provide",function(e){e.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(e,r,o,a){var n=r[0],i=n.link||n.compile;return n.compile=function(e){var r=t.version.major>=1&&t.version.minor>=3,n=i;return r&&t.isFunction(i)&&(n=i(e)),{pre:function(e,i,l,s){var d=s[0],u=s[1],c=void 0===l.ngModelOptions?void 0:e.$eval(l.ngModelOptions),f=d.$setValidity,m=d.$setPristine,v=a.debounce(function(){var e=void 0!==u&&null!==u?u.autoValidateFormOptions:void 0;o.validateElement(d,i,e)},100);return void 0===l.formnovalidate&&void 0!==u&&null!==u&&u.autoValidateFormOptions&&u.autoValidateFormOptions.disabled===!1&&(r||!r||void 0===c||void 0===c.updateOn||""===c.updateOn?d.$setValidity=function(e,t){f.call(d,e,t),v()}:(i.on(c.updateOn,function(){v()}),e.$on("$destroy",function(){i.off(c.updateOn)})),d.$setPristine=function(){m.call(d),o.resetElement(i)},d.autoValidated=!0),d.setExternalValidation=function(e,t,r){if(r){var a=d.$error||d.$errors;a[e]=!1}d.externalErrors=d.externalErrors||{},d.externalErrors[e]=!1,o.setElementValidationError(i,e,t)},d.removeExternalValidation=function(e,t){if(t){var r=d.$error||d.$errors;delete r[e]}d.externalErrors&&delete d.externalErrors[e],o.resetElement(i)},d.removeAllExternalValidation=function(){if(d.externalErrors){var e=d.$error||d.$errors;t.forEach(d.externalErrors,function(t,r){delete e[r]}),d.externalErrors={},o.resetElement(i)}},u&&(u.setExternalValidation=function(e,t,r,o){var a=!1;return u[e]&&(u[e].setExternalValidation(t,r,o),a=!0),a},u.removeExternalValidation=function(e,t,r,o){var a=!1;return u[e]&&(u[e].removeExternalValidation(t,o),a=!0),a}),n.pre?n.pre.apply(this,arguments):this},post:function(e,t,r,o){return n.post?n.post.apply(this,arguments):n.apply(this,arguments)}}},r}])}]),p.$inject=["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation6ElementModifier"],t.module("jcs-autoValidate").run(p)}(String,angular);